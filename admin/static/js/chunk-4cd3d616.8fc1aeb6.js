(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cd3d616"],{"0955":function(t,e,a){"use strict";var s=a("11d8"),o=a.n(s);o.a},"11d8":function(t,e,a){},"28c3":function(t,e,a){"use strict";a.d(e,"a",function(){return o});var s=a("b775");function o(t){return Object(s["a"])({url:BASE_API+"course/courseGround",method:"post",data:t})}},"80a4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"course-list"}},[a("el-button",{attrs:{type:"primary",id:"course-list-add"},on:{click:t.addCourse}},[a("i",{staticClass:"el-icon-plus"}),t._v("\n    添加课程\n  ")]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"courseId",label:"ID",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"课程名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"teacher.nickName",label:"教师名称",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"380"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.goDetails(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.del(e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.regale(e.row)}}},[t._v("上架")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.soldOut(e.row)}}},[t._v("下架")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.showCase(e.row)}}},[t._v("首页展示")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.cancelShowCase(e.row)}}},[t._v("取消首页展示")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editChapter(e.row)}}},[t._v("编辑章")])]}}])})],1),t._v(" "),a("div",{staticClass:"course-page"},[a("el-pagination",{attrs:{background:"","page-size":t.pageSize,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},o=[],r=a("b775");function n(t){return Object(r["a"])({url:BASE_API+"course/getCourseList",method:"post",params:t})}function c(t){return Object(r["a"])({url:BASE_API+"course/delete",method:"post",params:t})}var i=a("28c3");function u(t){return Object(r["a"])({url:BASE_API+"course/courseDecision",method:"post",data:t})}function l(t){return Object(r["a"])({url:BASE_API+"course/courseRecomm",method:"post",data:t})}var d={data:function(){return{listLoading:!0,page:1,tableData:[],total:0,pageSize:10}},computed:{count:function(){return this.total>1?(console.log(this.total/1*1),this.total/1*1):(console.log(1),1)}},methods:{addCourse:function(){this.$router.push("details/-1")},goDetails:function(t){console.log("details/".concat(t.courseId)),this.$router.push("details/".concat(t.courseId))},del:function(t){var e=this;this.listLoading=!0,c({courseId:t.courseId}).then(function(t){e.listLoading=!1,1*t.errno===101?(e.$message({message:"删除成功",type:"success"}),e.getData()):e.$message.error(t.errmsg)}),console.log(row)},regale:function(t){var e=this,a={courseId:t.courseId};Object(i["a"])(a).then(function(t){1*t.errno===101?e.$message({message:"上架成功",type:"success"}):e.$message.error(t.errmsg)})},soldOut:function(t){var e=this,a={courseId:t.courseId};u(a).then(function(t){1*t.errno===101?e.$message({message:"下架成功",type:"success"}):e.$message.error(t.errmsg)})},showCase:function(t){var e=this,a={courseId:t.courseId};l(a).then(function(t){1*t.errno===101?e.$message({message:"首页展示成功",type:"success"}):e.$message.error(t.errmsg)})},cancelShowCase:function(t){var e=this,a={courseId:t.courseId};Object(i["a"])(a).then(function(t){1*t.errno===101?e.$message({message:"取消首页展示成功",type:"success"}):e.$message.error(t.errmsg)})},getData:function(t){var e=this;this.listLoading=!0;var a={maxCount:this.pageSize,page:this.page};n(a).then(function(t){console.log(t),e.listLoading=!1,e.tableData=t.data.pageData.list,e.page=t.data.pageData.page,e.total=t.data.pageData.total})},handleCurrentChange:function(t){this.page=t,this.getData()},editChapter:function(t){this.$router.push("/course/chapter/".concat(t.courseId))}},created:function(){this.getData()}},g=d,p=(a("0955"),a("6691")),h=Object(p["a"])(g,s,o,!1,null,"23ec8f6e",null);e["default"]=h.exports}}]);