(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8ecbe07e"],{b736:function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"e",function(){return l}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"d",function(){return n});var a=i("b775");function s(t){return Object(a["a"])({url:BASE_API+"exercise/delete",method:"post",data:t})}function l(t){return Object(a["a"])({url:BASE_API+"exercise/update",method:"post",data:t})}function o(t){return Object(a["a"])({url:BASE_API+"exercise/getAllExerciseByPathId",method:"post",data:t})}function r(t){return Object(a["a"])({url:BASE_API+"exercise/add",method:"post",data:t})}function n(t){return Object(a["a"])({url:BASE_API+"exercise/getAllExerciseBySecId",method:"post",data:t})}},bc98:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("span",{staticStyle:{"font-size":"22px"}},[t._v(t._s(t.name))]),t._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.handleCreate(0)}}},[t._v("\n    添加单选题\n  ")]),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.handleCreate(1)}}},[t._v("\n    添加多选题\n  ")]),i("br"),t._v(" "),i("el-tag",{staticStyle:{"margin-bottom":"10px"}},[t._v("单选题")]),t._v(" "),i("el-table",{attrs:{data:t.listSingle,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"ID",width:"95",type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"题目",prop:"title"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.title))])]}}])}),t._v(" "),i("el-table-column",{attrs:{"class-name":"status-col",label:"编辑",width:"220",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.handleUpdate(0,e.row)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(i){return t.deleteExcises(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-tag",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"}},[t._v("多选题")]),t._v(" "),i("el-table",{attrs:{data:t.listMultiple,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"ID",width:"95",type:"index"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"题目",prop:"title"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[t._v(t._s(a.title))])]}}])}),t._v(" "),i("el-table-column",{attrs:{"class-name":"status-col",label:"编辑",width:"220",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.handleUpdate(1,e.row,e.$index)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(i){return t.deleteExcises(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogFormVisible,title:t.textMap[t.dialogStatus]},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"80%","margin-left":"50px"},attrs:{model:t.temp,"label-position":"left","label-width":"20%"}},[i("el-form-item",{attrs:{label:"题目",prop:"title"}},[i("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"A"}},[i("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.temp.choiceA,callback:function(e){t.$set(t.temp,"choiceA",e)},expression:"temp.choiceA"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"B"}},[i("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.temp.choiceB,callback:function(e){t.$set(t.temp,"choiceB",e)},expression:"temp.choiceB"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"C"}},[i("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.temp.choiceC,callback:function(e){t.$set(t.temp,"choiceC",e)},expression:"temp.choiceC"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"D"}},[i("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.temp.choiceD,callback:function(e){t.$set(t.temp,"choiceD",e)},expression:"temp.choiceD"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"答案"}},[i("el-radio-group",{model:{value:t.temp.answer,callback:function(e){t.$set(t.temp,"answer",e)},expression:"temp.answer"}},[i("el-radio",{attrs:{label:"A"}},[t._v("A")]),t._v(" "),i("el-radio",{attrs:{label:"B"}},[t._v("B")]),t._v(" "),i("el-radio",{attrs:{label:"C"}},[t._v("C")]),t._v(" "),i("el-radio",{attrs:{label:"D"}},[t._v("D")])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"答案解析"}},[i("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.temp.answerDesc,callback:function(e){t.$set(t.temp,"answerDesc",e)},expression:"temp.answerDesc"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData(0):t.updateData()}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogFormVisible1,title:t.textMap[t.dialogStatus]},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"80%","margin-left":"50px"},attrs:{model:t.temp,"label-position":"left","label-width":"20%"}},[i("el-form-item",{attrs:{label:"题目",prop:"title"}},[i("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"A"}},[i("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.temp.choiceA,callback:function(e){t.$set(t.temp,"choiceA",e)},expression:"temp.choiceA"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"B"}},[i("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.temp.choiceB,callback:function(e){t.$set(t.temp,"choiceB",e)},expression:"temp.choiceB"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"C"}},[i("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.temp.choiceC,callback:function(e){t.$set(t.temp,"choiceC",e)},expression:"temp.choiceC"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"D"}},[i("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.temp.choiceD,callback:function(e){t.$set(t.temp,"choiceD",e)},expression:"temp.choiceD"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"答案"}},[i("el-checkbox-group",{model:{value:t.checkListTemp,callback:function(e){t.checkListTemp=e},expression:"checkListTemp"}},[i("el-checkbox",{attrs:{label:"A"}}),t._v(" "),i("el-checkbox",{attrs:{label:"B"}}),t._v(" "),i("el-checkbox",{attrs:{label:"C"}}),t._v(" "),i("el-checkbox",{attrs:{label:"D"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"答案解析"}},[i("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.temp.answerDesc,callback:function(e){t.$set(t.temp,"answerDesc",e)},expression:"temp.answerDesc"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData(1):t.updateData()}}},[t._v("确 定")])],1)],1)],1)},s=[],l=(i("7bc1"),i("7364"),i("b736")),o={data:function(){return{id:this.$route.params.id,name:this.$route.params.name,listLoading:!0,status:-1,dialogFormVisible:!1,dialogFormVisible1:!1,checkList:[],checkListTemp:[],listSingle:[],listMultiple:[],list:null,temp:{title:"",choiceA:"",choiceB:"",choiceC:"",choiceD:"",answer:"",answerDesc:""},dialogStatus:"",textMap:{update:"编辑",create:"添加"}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(l["c"])({pathId:this.id}).then(function(e){if(t.listLoading=!1,1*e.errno===101)for(var i in t.listSingle=e.data.sing,t.listMultiple=e.data.mul,t.listMultiple)t.checkList[i]=t.listMultiple[i].answer.split("|");else t.$message.error(e.errmsg)})},deleteExcises:function(t,e){var i=this;this.$confirm("是否删除当前题目?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l["b"])({exerciseId:e.id}).then(function(t){1*t.errno===101?(i.$message({type:"success",message:"删除成功!"}),setTimeout(function(){i.getList()})):i.$message.error(t.errmsg)})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},handleCreate:function(t){this.resetTemp(),this.status=t,this.dialogStatus="create",1*t===1?this.dialogFormVisible1=!0:this.dialogFormVisible=!0},handleUpdate:function(t,e,i){this.resetTemp(),this.status=t,this.dialogStatus="update",this.temp=Object.assign({},e),1*t===1?(this.checkListTemp=this.checkList[i],this.dialogFormVisible1=!0):this.dialogFormVisible=!0},resetTemp:function(){for(var t in this.temp)this.temp[t]="";this.checkListTemp=[]},createData:function(){var t=this;1==this.status&&(this.temp.answer=this.checkListTemp.join("|")),Object(l["a"])({title:this.temp.title,choiceA:this.temp.choiceA,choiceB:this.temp.choiceB,choiceC:this.temp.choiceC,choiceD:this.temp.choiceD,answer:this.temp.answer,answerDesc:this.temp.answerDesc,pathId:this.id,status:this.status}).then(function(e){1*e.errno===101?(t.dialogFormVisible=!1,t.dialogFormVisible1=!1,t.total++,t.$notify({title:"成功",message:"添加单选题成功",type:"success",duration:2e3}),t.resetTemp(),setTimeout(function(){t.getList()},1500)):t.$message.error(e.errmsg)})},updateData:function(){var t=this;1==this.status&&(this.temp.answer=this.checkListTemp.join("|")),Object(l["e"])({status:this.status,pathId:this.id,title:this.temp.title,choiceA:this.temp.choiceA,choiceB:this.temp.choiceB,choiceC:this.temp.choiceC,choiceD:this.temp.choiceD,answer:this.temp.answer,answerDesc:this.temp.answerDesc}).then(function(e){1*e.errno===101?(t.dialogFormVisible=!1,t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3}),t.getList()):t.$message.error(e.errmsg)})}}},r=o,n=i("6691"),c=Object(n["a"])(r,a,s,!1,null,null,null);e["default"]=c.exports}}]);