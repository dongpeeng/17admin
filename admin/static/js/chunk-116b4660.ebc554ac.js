(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-116b4660"],{"52b5":function(t,a,e){"use strict";e.d(a,"e",function(){return o}),e.d(a,"c",function(){return r}),e.d(a,"i",function(){return s}),e.d(a,"a",function(){return i}),e.d(a,"g",function(){return u}),e.d(a,"d",function(){return l}),e.d(a,"j",function(){return h}),e.d(a,"b",function(){return c}),e.d(a,"f",function(){return p}),e.d(a,"h",function(){return d});var n=e("b775");function o(){return Object(n["a"])({url:BASE_API+"category/getCategory",method:"get"})}function r(t){return Object(n["a"])({url:BASE_API+"category/delCategoryById",method:"post",data:t})}function s(t){return Object(n["a"])({url:BASE_API+"category/updateCategoryById",method:"post",data:t})}function i(t){return Object(n["a"])({url:BASE_API+"category/addCategoryById",method:"post",data:t})}function u(){return Object(n["a"])({url:BASE_API+"path/getPath",method:"get"})}function l(t){return Object(n["a"])({url:BASE_API+"path/delPathById",method:"post",data:t})}function h(t){return Object(n["a"])({url:BASE_API+"path/updatePathById",method:"post",data:t})}function c(t){return Object(n["a"])({url:BASE_API+"path/addPathById",method:"post",data:t})}function p(t){return Object(n["a"])({url:BASE_API+"category/getCategoryById",method:"post",data:t})}function d(t){return Object(n["a"])({url:BASE_API+"path/getPathById",method:"post",data:t})}},9514:function(t,a,e){},d0d2:function(t,a,e){"use strict";var n=e("9514"),o=e.n(n);o.a},d28d:function(t,a,e){"use strict";e.d(a,"a",function(){return o}),e.d(a,"b",function(){return r}),e.d(a,"e",function(){return s}),e.d(a,"c",function(){return i}),e.d(a,"d",function(){return u});var n=e("b775");function o(t){return Object(n["a"])({url:BASE_API+"mark/add",method:"post",params:t})}function r(t){return Object(n["a"])({url:BASE_API+"mark/delete",method:"post",params:t})}function s(t){return Object(n["a"])({url:BASE_API+"mark/update",method:"post",params:t})}function i(t){return Object(n["a"])({url:BASE_API+"mark/getMarkById",method:"post",params:t})}function u(t){return Object(n["a"])({url:BASE_API+"mark/getMarkList",method:"get",params:t})}},ef03:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list"},[e("div",[1==t.number?e("h4",[t._v("编辑二级分类信息")]):e("h4",[t._v("添加二级分类信息")])]),t._v(" "),e("el-form",{attrs:{"label-width":"100px"}},[-1!==t.pathId?e("el-form-item",{attrs:{label:"pathID"}},[e("el-input",{attrs:{placeholder:"ID",disabled:!0},model:{value:t.pathId,callback:function(a){t.pathId=a},expression:"pathId"}})],1):t._e(),t._v(" "),e("el-form-item",{attrs:{label:"path名称"}},[e("el-input",{attrs:{clearable:""},model:{value:t.pathIfo.pathName,callback:function(a){t.$set(t.pathIfo,"pathName",a)},expression:"pathIfo.pathName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"path分类"}},[e("el-select",{model:{value:t.pathIfo.cateId,callback:function(a){t.$set(t.pathIfo,"cateId",a)},expression:"pathIfo.cateId"}},t._l(t.pathclass,function(t){return e("el-option",{key:t.cateId,attrs:{label:t.cateName,value:t.cateId}})}),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"path标签"}},[e("el-select",{model:{value:t.pathIfo.markId,callback:function(a){t.$set(t.pathIfo,"markId",a)},expression:"pathIfo.markId"}},t._l(t.tagList,function(t){return e("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"path简介"}},[e("el-input",{attrs:{clearable:""},model:{value:t.pathIfo.pathIntro,callback:function(a){t.$set(t.pathIfo,"pathIntro",a)},expression:"pathIfo.pathIntro"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"path图片"}},[e("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadUrl,name:"imgFile",multiple:"","on-success":t.upImgSuccess}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),t.pathIfo.pathImg?e("img",{staticClass:"path-img",attrs:{src:t.baseUrl+t.pathIfo.pathImg,alt:""}}):t._e(),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"多选题数量"}},[e("el-input",{attrs:{clearable:""},model:{value:t.pathIfo.mulCount,callback:function(a){t.$set(t.pathIfo,"mulCount",a)},expression:"pathIfo.mulCount"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"单选题数量"}},[e("el-input",{attrs:{clearable:""},model:{value:t.pathIfo.singleCount,callback:function(a){t.$set(t.pathIfo,"singleCount",a)},expression:"pathIfo.singleCount"}})],1)],1),t._v(" "),-1!==t.pathId?e("el-button",{staticClass:"btn",attrs:{size:"medium",type:"primary"},on:{click:t.ConfirmChange}},[t._v("确认修改")]):e("el-button",{staticClass:"btn",attrs:{size:"medium",type:"primary"},on:{click:t.AddPath}},[t._v("增加")])],1)},o=[],r=(e("7364"),e("52b5")),s=e("d28d"),i={data:function(){return{pathIfo:{pathName:"",cateId:"",pathIntro:"",pathImg:null,markId:""},pathList:[],pathId:1*this.$route.query.pathId,value:"",fileList:[],pathclass:[],thisname:"",thisid:"",thisoption:"",thisproduce:"",thispathImg:"",number:"",listLoading:!0,baseUrl:window.CDN_URL,uploadUrl:BASE_API+"path/addImg",tagList:[]}},created:function(){this.getSelectData(),this.getTagList(),1*this.pathId!==-1&&this.getDetails()},methods:{getSelectData:function(){var t=this;Object(r["e"])().then(function(a){console.log(a),1*a.errno===101?t.pathclass=a.data:t.$message.error(a.errmsg)})},getDetails:function(){var t=this;Object(r["h"])({pathId:this.pathId}).then(function(a){t.listLoading=!1,1*a.errno===101?t.pathIfo=a.data:t.$message.error(a.errmsg)})},upImgSuccess:function(t){101==t.errno&&(this.pathIfo.pathImg=t.data.relativePath)},getRouterData:function(){this.pathIfo=this.$route.params.obj,this.pathList=this.$route.params.list,this.pathId=this.$route.params.nowIndex,this.pathclass=this.$route.params.primarylist,this.number=this.$route.params.number},ConfirmChange:function(){var t=this;Object(r["j"])({pathName:this.pathIfo.pathName,pathId:this.pathId,pathImg:this.pathIfo.pathImg,cateId:this.pathIfo.cateId,pathIntro:this.pathIfo.pathIntro,markId:this.pathIfo.markId,mulCount:this.pathIfo.mulCount,singleCount:this.pathIfo.singleCount}).then(function(a){console.log(a),101==a.errno?(t.$message({message:"修改成功",type:"success"}),setTimeout(function(a){t.$router.push("/classify/secondList")},1500)):t.$message.error(a.errmsg)}),console.log(this.pathIfo)},AddPath:function(){var t=this;Object(r["b"])({pathName:this.pathIfo.pathName,pathImg:this.pathIfo.pathImg,cateId:this.pathIfo.cateId,pathIntro:this.pathIfo.pathIntro,markId:this.pathIfo.markId,mulCount:this.pathIfo.mulCount,singleCount:this.pathIfo.singleCount}).then(function(a){console.log(a),101==a.errno?(t.$message({message:"添加成功",type:"success"}),setTimeout(function(a){t.$router.push("/classify/secondList")},1500)):t.$message.error(a.errmsg)})},handleRemove:function(t,a){console.log(t,a)},handlePreview:function(t){console.log(t)},handleExceed:function(t,a){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+a.length," 个文件"))},beforeRemove:function(t,a){return this.$confirm("确定移除 ".concat(t.name,"？"))},getTagList:function(t){var a=this;this.listLoading=!0,Object(s["d"])().then(function(t){1*t.errno===101?(a.listLoading=!1,a.tagList=t.data):a.$message.error(t.errmsg)})}}},u=i,l=(e("d0d2"),e("6691")),h=Object(l["a"])(u,n,o,!1,null,"67813b14",null);a["default"]=h.exports}}]);