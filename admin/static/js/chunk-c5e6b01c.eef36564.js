(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5e6b01c"],{1895:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tag-details"}},[a("el-form",{ref:"form",attrs:{model:t.data,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.data.title,callback:function(e){t.$set(t.data,"title",e)},expression:"data.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关联分类"}},[a("el-select",{model:{value:t.data.categoryId,callback:function(e){t.$set(t.data,"categoryId",e)},expression:"data.categoryId"}},t._l(t.categoryList,function(t,e){return a("el-option",{key:e,attrs:{value:t.cateId,label:t.cateName}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadUrl,"on-success":t.upImgSuccess,multiple:""}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")]),t._v(" "),t.data.url?a("img",{staticClass:"tag-img",attrs:{src:t.baseUrl+t.data.url,alt:""}}):t._e()],1)],1),t._v(" "),a("el-form-item",[-1==t.id?a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即创建")]):a("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("更新")]),t._v(" "),a("el-button",{on:{click:t.goBack}},[t._v("取消")])],1)],1)],1)},n=[],o=a("d28d"),u=a("52b5"),i={data:function(){return{id:1*this.$route.params.id,uploadUrl:BASE_API+"path/addImg",baseUrl:CDN_URL,data:{description:"",title:"",url:"",categoryId:""},categoryList:[]}},methods:{upImgSuccess:function(t){101==t.errno?this.pathIfo.pathImg=t.data.relativePath:this.$message.error(t.errmsg)},getDetails:function(){var t=this;Object(o["c"])({id:this.id}).then(function(e){t.listLoading=!1,1*e.errno===101?t.data=e.data:t.$message.error(e.errmsg)})},update:function(){var t=this,e=Object.assign({},this.data,{id:this.id});Object(o["e"])(e).then(function(e){t.listLoading=!1,1*e.errno===101?(t.$message({message:"更新成功",type:"success"}),setTimeout(function(){t.$router.push("/tag")},1500)):t.$message.error(e.errmsg)})},onSubmit:function(){var t=this;this.data.url="qingmeng/20190912095340412.jpg",Object(o["a"])(this.data).then(function(e){t.listLoading=!1,1*e.errno===101?(t.$message({message:"添加成功",type:"success"}),setTimeout(function(){t.$router.push("/tag")},1500)):t.$message.error(e.errmsg)})},goBack:function(){this.$router.push("/tag")},getCategory:function(){var t=this;Object(u["e"])().then(function(e){console.log(e),1*e.errno===101?t.categoryList=e.data:t.$message.error(e.errmsg)})}},created:function(){this.getCategory(),this.id&&-1!==this.id&&this.getDetails()}},s=i,c=(a("9126"),a("6691")),d=Object(c["a"])(s,r,n,!1,null,"42388cf2",null);e["default"]=d.exports},"198b":function(t,e,a){},"52b5":function(t,e,a){"use strict";a.d(e,"e",function(){return n}),a.d(e,"c",function(){return o}),a.d(e,"i",function(){return u}),a.d(e,"a",function(){return i}),a.d(e,"g",function(){return s}),a.d(e,"d",function(){return c}),a.d(e,"j",function(){return d}),a.d(e,"b",function(){return l}),a.d(e,"f",function(){return m}),a.d(e,"h",function(){return p});var r=a("b775");function n(){return Object(r["a"])({url:BASE_API+"category/getCategory",method:"get"})}function o(t){return Object(r["a"])({url:BASE_API+"category/delCategoryById",method:"post",data:t})}function u(t){return Object(r["a"])({url:BASE_API+"category/updateCategoryById",method:"post",data:t})}function i(t){return Object(r["a"])({url:BASE_API+"category/addCategoryById",method:"post",data:t})}function s(){return Object(r["a"])({url:BASE_API+"path/getPath",method:"get"})}function c(t){return Object(r["a"])({url:BASE_API+"path/delPathById",method:"post",data:t})}function d(t){return Object(r["a"])({url:BASE_API+"path/updatePathById",method:"post",data:t})}function l(t){return Object(r["a"])({url:BASE_API+"path/addPathById",method:"post",data:t})}function m(t){return Object(r["a"])({url:BASE_API+"category/getCategoryById",method:"post",data:t})}function p(t){return Object(r["a"])({url:BASE_API+"path/getPathById",method:"post",data:t})}},9126:function(t,e,a){"use strict";var r=a("198b"),n=a.n(r);n.a},d28d:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o}),a.d(e,"e",function(){return u}),a.d(e,"c",function(){return i}),a.d(e,"d",function(){return s});var r=a("b775");function n(t){return Object(r["a"])({url:BASE_API+"mark/add",method:"post",params:t})}function o(t){return Object(r["a"])({url:BASE_API+"mark/delete",method:"post",params:t})}function u(t){return Object(r["a"])({url:BASE_API+"mark/update",method:"post",params:t})}function i(t){return Object(r["a"])({url:BASE_API+"mark/getMarkById",method:"post",params:t})}function s(t){return Object(r["a"])({url:BASE_API+"mark/getMarkList",method:"get",params:t})}}}]);